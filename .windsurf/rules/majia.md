---
trigger: always_on
---

# 项目规则
1. 所有的文件名称,类,结构体,枚举,协议等的自定义都需要以DD开头
2. 所有自定义的属性,方法等都需要以kk开头
3. 所有多语言的key都需要以kk开头
4. 不需要执行xcodebuild,因为xcode26.1.1执行xcodebuild报错
5. 不需要创建README文件，可以直接输出一些要求即可
6. 换行 空格 缩进 等都需要符合Xcode的格式化要求, tab按照2个空格缩进
7. bundle identifier 是com.test.mg2

## 基础配置
1. **项目技术栈**: 纯SwiftUI iOS 16+，不需要支持支持UIKit
2. **设备支持**: iOS 16+，只需要支持iPhone
3. **开发框架**: SwiftUI + Combine + Async/Await
4. **包管理**: Swift Package Manager
5. **安全编码**: 禁止使用强制解包，避免空指针异常
6.  **构建目标**: xcodebuild 使用 iPhone 16 Pro 作为目标设备

### 模块通信机制
- **事件总线**: 使用Combine框架实现模块间的事件通信
- **依赖注入**: 使用协议和工厂模式实现依赖注入
- **数据流**: 使用MVVM模式管理数据流向

### 模块开发原则
1. **单一职责**: 每个模块只负责一个明确的功能领域
2. **高内聚**: 模块内部组件紧密协作，功能完整
3. **低耦合**: 模块间依赖最小化，接口清晰

### 代码组织原则
1. **按功能分组**: 相关功能的代码放在同一目录下
2. **按类型分层**: Views、ViewModels、Models分别放在不同子目录
3. **命名一致**: 使用统一的命名规范和前缀
4. **文档完整**: 重要类和方法必须有完整的文档注释

## 代码组织规范

### 界面开发规范
1. **界面框架**: 纯SwiftUI开发，充分利用iOS 16+新特性
2. **图标系统**: 使用自定义的图片为优先级别,一般情况下用自定义的图片, SF Symbols 4.0+作为补充图标系统
3. **动画效果**: 使用SwiftUI原生动画，流畅自然
4. **颜色系统**: 使用语义化颜色，符合品牌规范
6.  **样式统一**: 基础控件的调用使用`kStyle`来统一调用样式,符合统一项目的格调

### 文件头注释
```swift
//
//  FileName.swift
//
//  Created by Lyn on [当前日期的格式: 2025-10-20].
//
```
